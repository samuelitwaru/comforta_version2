function DVelop_WWPCalendar(){this.ItemSelected;this.DateTimeSelected;this.Events;this.DisabledDays;this.Resources;this.Locale;this.TimeZone;this.Selectable;this.InitialView;this.InitialDate;this.FixedWeekCount;this.NavLinks;this.HandleWindowResize;this.DayMaxEvents;this.HiddenDays;this.DisplayWeekNumbers;this.TodayButtonText;this.MonthButtonText;this.WeekButtonText;this.DayButtonText;this.ListButtonText;this.EventBackgroundColor;this.EventBorderColor;this.EventTextColor;this.NowIndicator;this.ShowNonCurrentDates;this.TodayButtonPosition;this.PreviousButtonPosition;this.NextButtonPosition;this.TitlePosition;this.MonthButtonPosition;this.WeekButtonPosition;this.DayButtonPosition;this.YearButtonPosition;this.ListButtonPosition;this.IncludeUpdateInPopup;this.IncludeDeleteInPopup;this.DefaultEventStyle;this.EnableWeekends;this.EnableDayHeaders;this.EnableEventsHoursPerDay;this.Sunday;this.Monday;this.Tuesday;this.Wednesday;this.Thursday;this.Friday;this.Saturday;this.EventActionSelected;this.FilterMode;var t=!1,h="",i,n,c,r,u,f,e,o,s,l=[];this.SetCalendarDisabledDays=function(n){this.DisabledDays=n;for(let n=0;n<this.DisabledDays.length;n++){let t=this.DisabledDays[n].split("-"),i=t[2].split("T")[0];this.DisabledDays[n]=new Date(t[0],t[1]-1,i,"00","00","00")}l=this.DisabledDays};this.GetCalendarDisabledDays=function(){return this.DisabledDays};this.SetCalendarEventsData=function(t){n!=null&&(this.Events==null||t==null||this.Events.length!=t.length||JSON.stringify(this.Events)!=JSON.stringify(t))&&(n=null,this.reGeneratingCalendar=!0);this.Events=t};this.getCurrentDate=function(){var n=this.resolveReturnDate(this.gxCurrentDate);return this.ParentObject.isTransaction()?n.getStringWithFmt("Y4MD"):n};this.setCurrentDate=function(t){this.gxCurrentDate=this.resolveReturnDate(t);n!=null&&(this.InitialView=n.view.type,(this.gxCurrentDate!=null?this.gxCurrentDate.Value:"")+""!=n.getDate()+""&&n.gotoDate(this.getCalentarInitialDate()))};this.getFromDate=function(){var n=this.resolveReturnDate(this.gxFromDate);return this.ParentObject.isTransaction()?n.getStringWithFmt("Y4MD"):n};this.setFromDate=function(){};this.getToDate=function(){var n=this.resolveReturnDate(this.gxToDate);return this.ParentObject.isTransaction()?n.getStringWithFmt("Y4MD"):n};this.setToDate=function(){};this.GetCalendarEventsData=function(){return this.Events};this.regenerateAfterResize=function(){var t=$(document.getElementById(this.ControlName.toUpperCase()+"Container")).outerWidth();c!=t&&(n=null,this.reGeneratingCalendar=!0,this.show())};this.show=function(){if(this.resizeHandler==null&&(this.resizeHandler=function(){if(n!=null){this.regenerateAfterResize();var t=this;setTimeout(function(){t.regenerateAfterResize()},500)}}.closure(this),gx.evt.attach(window,"resize",this.resizeHandler)),n==null)if($(document.getElementById(this.ControlName.toUpperCase()+"Container")).addClass("fc").css("display")=="flex")this.createCalendar();else{var t=this;setTimeout(function(){t.show()},100)}};this.getLocale=function(){var n=this.Locale,t;return(n==null||n.trim()=="")&&(t={eng:"en",spa:"es",por:"pt",ita:"it",german:"de",chs:"zh-cn",cht:"zh-cn",jap:"ja",arabic:"ar"},n=t[(gx.languageCode+"").toLowerCase()]||gx.languageCode),(n==null||n.trim()=="")&&(console.log("localeId null"),n="en"),n};this.getLocales=function(){return[{code:"es",week:{dow:0,doy:6},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",year:"Año",month:"Mes",week:"Semana",day:"Día",list:"Agenda"},weekText:"Sm",allDayText:"Todo el día",moreLinkText:"más",noEventsText:"No hay eventos para mostrar"},{code:"pt",week:{dow:1,doy:4},buttonText:{prev:"Anterior",next:"Seguinte",today:"Hoje",year:"Ano",month:"Mês",week:"Semana",day:"Dia",list:"Agenda"},weekText:"Sem",allDayText:"Todo o dia",moreLinkText:"mais",noEventsText:"Não há eventos para mostrar"},{code:"it",week:{dow:1,doy:4},buttonText:{prev:"Prec",next:"Succ",today:"Oggi",year:"Anno",month:"Mese",week:"Settimana",day:"Giorno",list:"Agenda"},weekText:"Sm",allDayText:"Tutto il giorno",moreLinkText:n=>"+altri "+n,noEventsText:"Non ci sono eventi da visualizzare"},{code:"de",week:{dow:1,doy:4},buttonText:{prev:"Zurück",next:"Vor",today:"Heute",year:"Jahr",month:"Monat",week:"Woche",day:"Tag",list:"Terminübersicht"},weekText:"KW",allDayText:"Ganztägig",moreLinkText:n=>"+ weitere "+n,noEventsText:"Keine Ereignisse anzuzeigen"},{code:"zh-cn",week:{dow:1,doy:4},buttonText:{prev:"上月",next:"下月",today:"今天",year:"年",month:"月",week:"周",day:"日",list:"日程"},weekText:"周",allDayText:"全天",moreLinkText:n=>"另外 "+n+" 个",noEventsText:"没有事件显示"},{code:"ja",buttonText:{prev:"前",next:"次",today:"今日",year:"年",month:"月",week:"週",day:"日",list:"予定リスト"},weekText:"週",allDayText:"終日",moreLinkText:n=>"他 "+n+" 件",noEventsText:"表示する予定はありません"},{code:"ar",week:{dow:6,doy:12},direction:"rtl",buttonText:{prev:"السابق",next:"التالي",today:"اليوم",year:"سنة",month:"شهر",week:"أسبوع",day:"يوم",list:"أجندة"},weekText:"أسبوع",allDayText:"اليوم كله",moreLinkText:"أخرى",noEventsText:"أي أحداث لعرض"}]};this.createCalendar=function(){var w=[],a,v,y,p;if(this.Events!=""){a=this.Events;for(let n=0;n<a.length;n++){let t=new Date(a[n].end);w.push({id:a[n].id.trim(),allDay:a[n].allDay,start:a[n].start,end:a[n].allDay==!0?new Date(t.setDate(t.getDate()+1)):a[n].end,title:a[n].title,overlap:a[n].overlap,editable:a[n].editable,className:a[n].className,backgroundColor:a[n].backgroundColor,borderColor:a[n].borderColor,textColor:a[n].textColor,display:a[n].display,daysOfWeek:a[n].daysOfWeek,url:a[n].url,extendedProps:a[n].Actions})}}this.setHeaderToolbarPositions();this.setFooterToolbarPositions();switch(this.InitialView){case"Month":this.InitialView="dayGridMonth";break;case"Week":this.InitialView="timeGridWeek";break;case"Day":this.InitialView="dayGridWeek";break;case"Year":this.InitialView="dayGridYear";break;case"List":this.InitialView="listWeek"}v=[];this.Sunday&&v.push(0);this.Monday&&v.push(1);this.Tuesday&&v.push(2);this.Wednesday&&v.push(3);this.Thursday&&v.push(4);this.Friday&&v.push(5);this.Saturday&&v.push(6);var h=this,k=document.getElementById(h.ControlName.toUpperCase()+"Container"),b={month:this.MonthButtonText,week:this.WeekButtonText,day:this.DayButtonText,list:this.ListButtonText};this.TodayButtonText!=""&&(b.today=this.TodayButtonText);y={left:r,center:u,right:f};y.left==""&&y.center==""&&y.right==""&&(y=!1);p={left:e,center:o,right:s};p.left==""&&p.center==""&&p.right==""&&(p=!1);n=new FullCalendar.Calendar(k,{locale:h.getLocale(),locales:h.getLocales(),timeZone:"local",droppable:!0,selectable:h.Selectable,initialView:h.InitialView,initialDate:this.getCalentarInitialDate(),fixedWeekCount:h.FixedWeekCount,navLinks:h.NavLinks,dayMaxEvents:h.DayMaxEvents,showNonCurrentDates:h.ShowNonCurrentDates,aspectRatio:1.4,contentHeight:"auto",nowIndicator:h.NowIndicator,headerToolbar:y,footerToolbar:p,titleFormat:{year:"numeric",month:"long"},eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"short"},hiddenDays:v,weekends:this.EnableWeekends,editable:!0,dayHeaders:this.EnableDayHeaders,buttonText:b,eventDisplay:"auto",views:{day:{dayHeaderFormat:{weekday:"long",omitCommas:!0}}},displayEventTime:!0,viewDidMount:function(){if(h.ViewStyle=="Cards"){let n=document.getElementById(h.ControlName.toUpperCase()+"Container");n.classList.add("CardView")}},datesSet:function(t){if(!h.FromDateFlat){h.setCurrentDate(n.getDate());h.gxFromDate=h.resolveReturnDate(t.start);var i=new Date(t.end);h.gxToDate=h.resolveReturnDate(new Date(i.setDate(i.getDate()-1)));h.VisibleDatesChanged==null||h.reGeneratingCalendar||h.VisibleDatesChanged()}h.FromDateFlat=!1},select:function(n){n.view.type=="dayGridMonth"&&n.end.getDate()-n.start.getDate()==1&&(n.allDay=!1,n.end=n.start,n.endStr=n.startStr);n.allDay&&(n.end.setDate(n.end.getDate()-1),n.endStr=this.formatIso(n.end));var t=JSON.parse(JSON.stringify(n));t.start=n.startStr!=null&&n.startStr.indexOf("T")>=0&&n.startStr.indexOf("-",n.startStr.indexOf("T"))>=0?n.startStr.substring(0,n.startStr.lastIndexOf("-")):n.startStr;t.end=n.endStr!=null&&n.endStr.indexOf("T")>=0&&n.endStr.indexOf("-",n.endStr.indexOf("T"))>=0?n.endStr.substring(0,n.endStr.lastIndexOf("-")):n.endStr;delete t.startStr;delete t.endStr;let i=JSON.stringify(t);h.DateTimeSelected=i;h.DateSelected()},selectAllow:function(n){n.allDay&&(n.end=new Date(n.end.setDate(n.end.getDate()-1)));return h.CheckDisabledDays(n)},eventClick:function(n){if(!t){if(n.jsEvent.preventDefault(),n.event.url!="")window.open(n.event.url);else{let t=document.getElementsByClassName("fc-popover")[0];t!=undefined&&t.classList.add("noDisplay");let i=n.event.id;h.ItemSelected=i;h.EventSelected()}t=!1}t=!1},eventMouseEnter:function(n){var r,c,l,u,a,v,f,e,y,p,o;let k=n.event.id;h.ItemSelected=k;let w=document.getElementsByClassName("fc-popover")[0];r=document.createElement("div");r.classList.add("buttonAction");r.classList.add("buttonUpdate");r.onclick=function(){w!=undefined&&w.classList.add("noDisplay");t=!0;h.UpdateEvent()};c=document.createElement("i");c.classList.add("fas");c.classList.add("fa-pen");l=document.createElement("span");l.classList.add("buttonDescription");l.innerHTML="Update";r.appendChild(c);r.appendChild(l);u=document.createElement("div");u.classList.add("buttonAction");u.classList.add("buttonDelete");u.onclick=function(){t=!0;h.DeleteEvent()};a=document.createElement("i");a.classList.add("fas");a.classList.add("fa-trash");v=document.createElement("span");v.classList.add("buttonDescription");v.innerHTML="Delete";u.appendChild(a);u.appendChild(v);f=[];i=[];let b=n.event.extendedProps;for(let n in b)f.push(b[n]);if(f.length>0)for(let n in f){e=document.createElement("div");e.classList.add("buttonAction");e.classList.add("buttonCustom");e.onclick=function(){h.EventActionSelected=f[n].Key;t=!0;h.CustomActionEvent()};y=document.createElement("i");let r=f[n].Icon.split(" "),u=r[0],o=r[1];y.classList.add(u);y.classList.add(o);p=document.createElement("span");p.classList.add("buttonDescription");p.innerHTML=f[n].Caption;e.appendChild(y);e.appendChild(p);i.push(e)}if(o=document.createElement("div"),o.classList.add("options-updateDelete"),h.IncludeUpdateInPopup&&o.appendChild(r),h.IncludeDeleteInPopup&&o.appendChild(u),i.length>0)for(let n in i)o.appendChild(i[n]);let s=document.createElement("i");s.classList.add("fa-solid");s.classList.add("fa-chevron-down");s.classList.add("chevrdown-icon");s.onclick=function(){t=!0;n.el.removeChild(n.el.lastElementChild);n.el.appendChild(o)};(h.IncludeUpdateInPopup||h.IncludeDeleteInPopup||i.length>0)&&n.el.appendChild(s)},eventMouseLeave:function(n){(h.IncludeUpdateInPopup||h.IncludeDeleteInPopup||i.length>0)&&n.el.removeChild(n.el.lastElementChild)},eventDrop:function(n){let i;n.event.end==null?n.oldEvent!=null&&n.oldEvent.allDay!=n.event.allDay?(i=new Date(n.event.start),n.event.allDay||i.setTime(i.getTime()+36e5)):(console.error("end date is null"),i=new Date(n.event.start)):i=n.event.end;n.oldEvent.allDay&&n.event.allDay&&i.setDate(i.getDate()-1);var t=JSON.parse(JSON.stringify(n.event));t.end=this.formatIso(i);t.allDay==null&&(t.allDay=!1);t.start!=null&&t.start.indexOf("T")>=0&&t.start.indexOf("-",t.start.indexOf("T"))>=0&&(t.start=t.start.substring(0,t.start.lastIndexOf("-")));t.end!=null&&t.end.indexOf("T")>=0&&t.end.indexOf("-",t.end.indexOf("T"))>=0&&(t.end=t.end.substring(0,t.end.lastIndexOf("-")));let r=JSON.stringify(t);h.DateTimeSelected=r;h.EventDateUpdated()},eventAllow:function(n){n.allDay&&(n.end=new Date(n.end.setDate(n.end.getDate()-1)));return h.CheckDisabledDays(n)},eventResize:function(n){let i=new Date(n.event.end.getUTCFullYear(),n.event.end.getMonth(),n.event.end.getDate()-1,n.event.end.getHours(),n.event.end.getMinutes());n.event.allDay&&n.event.setDates(n.event.start,i,{allDay:"true"});var t=JSON.parse(JSON.stringify(n.event));t.start!=null&&t.start.indexOf("T")>=0&&t.start.indexOf("-",t.start.indexOf("T"))>=0&&t.end!=null&&t.end.indexOf("T")>=0&&t.end.indexOf("-",t.end.indexOf("T"))>=0&&(t.start=t.start.substring(0,t.start.lastIndexOf("-")),t.end=t.end.substring(0,t.end.lastIndexOf("-")));let r=JSON.stringify(t);h.DateTimeSelected=r;h.EventDateUpdated()},eventClassNames:this.DefaultEventStyle=="Grayscale"?"grayEvents":"CustomColorEvents",events:w,dayCellClassNames:function(n){const t=l.filter(t=>n.date>=t&&n.date<=t);if(t.length>0)return"disabledDay"},dayHeaderDidMount:function(n){setTimeout(function(){var i,t;if(h.EnableEventsHoursPerDay&&(n.view.type=="timeGridWeek"||n.view.type=="timeGridDay")){let r=0;for(let t=0;t<h.Events.length;t++){let f=h.Events[t],u=new Date(f.start);if(u.equalsNoTime(n.date)&&u.getDate()==n.date.getDate()){let n=new Date(f.end);i=Math.abs((n.getTime()-u.getTime())/1e3);i/=3600;r+=i}}r=Math.round(r);isNaN(r)&&(r=0);t=document.createElement("div");t.innerHTML="Total hours: "+r.toString();t.style.backgroundColor="var(--colors_basecolor)";t.style.color="white";n.el.appendChild(t);r=0}},100)},dayHeaderClassNames:function(n){if(n.view.type=="timeGridWeek"||n.view.type=="timeGridDay")return"gridWeekDayHeader"},dayHeaderContent:function(n){var t,r,f,i;let u=new Date;return t=document.createElement("div"),t.classList.add("fc-day-header-number"),t.innerText=n.date.getDate(),r=document.createElement("div"),r.classList.add("fc-day-header-date"),f=n.text.split(" ")[0],r.innerText=f+" ",i=document.createElement("div"),i.classList.add("container-day"),i.appendChild(r),n.view.type!="dayGridMonth"&&(i.appendChild(t),n.date.getDate()==u.getDate()&&n.date.getMonth()==(u.getMonth()&&n.date.getYear()==u.getYear())&&t.classList.add("today-number")),{domNodes:[i]}}});n.render();n.updateSize();this.reGeneratingCalendar=!1;c=$(document.getElementById(this.ControlName.toUpperCase()+"Container")).outerWidth()};this.CheckDisabledDays=function(n){var t=!0;for(let i=0;i<this.DisabledDays.length;i++){let r=new Date(this.DisabledDays[i]),u=n.start,f=n.end;if(u.setHours("00","00","00"),f.setHours("00","00","00"),u>=r&&u<=r||f>=r&&f<=r||r>=u&&r<=f||r>=u&&r<=f){t=!1;break}}return t};this.getCalentarInitialDate=function(){var n=this.getCurrentDate();return gx.date.isNullDate(n)?null:n.Value};this.MoveCalendarToDate=function(t){this.FromDateFlat=!0;this.InitialView=h;let i=new Date(t);if(this.InitialDate=i,r==null)var r=this;n.changeView(this.InitialView);n.gotoDate(this.InitialDate)};this.ChangeCalendarToView=function(t){this.InitialDate=new Date;n.view.type!="listYear"&&(h=n.view.type);this.Events!=null&&this.Events.length>0&&(this.InitialDate=this.Events[0].start);n.changeView(t);n.gotoDate(this.InitialDate)};this.RemoveHighlightDay=function(){let n=document.getElementsByClassName("fc-daygrid-bg-harness")[0];n.style.display="none"};this.ReturnDateFlat=function(n){return new Date(n)};this.setHeaderToolbarPositions=function(){r="";u="";f="";r=this.setElementsInPosition("Left",!0);u=this.setElementsInPosition("Center",!0);f=this.setElementsInPosition("Right",!0);r!=""&&(r=r.substring(0,r.length-1));u!=""&&(u=u.substring(0,u.length-1));f!=""&&(f=f.substring(0,f.length-1))};this.setFooterToolbarPositions=function(){e="";o="";s="";e=this.setElementsInPosition("Left",!1);o=this.setElementsInPosition("Center",!1);s=this.setElementsInPosition("Right",!1);e!=""&&(e=e.substring(0,e.length-1));o!=""&&(o=o.substring(0,o.length-1));s!=""&&(s=s.substring(0,s.length-1))};this.setElementsInPosition=function(n,t){return t?(this.TodayButtonPosition=="Header"+n?"today,":"")+(this.PreviousButtonPosition=="Header"+n?"prev,":"")+(this.NextButtonPosition=="Header"+n?"next,":"")+(this.TitlePosition=="Header"+n?"title,":"")+(this.MonthButtonPosition=="Header"+n?"dayGridMonth,":"")+(this.WeekButtonPosition=="Header"+n?"timeGridWeek,":"")+(this.DayButtonPosition=="Header"+n?"timeGridDay,":"")+(this.YearButtonPosition=="Header"+n?"dayGridYear,":"")+(this.ListButtonPosition=="Header"+n?"listWeek,":""):(this.TodayButtonPosition=="Footer"+n?"today,":"")+(this.PreviousButtonPosition=="Footer"+n?"prev,":"")+(this.NextButtonPosition=="Footer"+n?"next,":"")+(this.TitlePosition=="Footer"+n?"title,":"")+(this.MonthButtonPosition=="Footer"+n?"dayGridMonth,":"")+(this.WeekButtonPosition=="Footer"+n?"timeGridWeek,":"")+(this.DayButtonPosition=="Footer"+n?"timeGridDay,":"")+(this.YearButtonPosition=="Footer"+n?"dayGridYear,":"")+(this.ListButtonPosition=="Footer"+n?"listWeek,":"")};this.resolveReturnDate=function(n){var i,t;return n?(i="Y4MD",n!=null&&typeof n=="string"&&(n.length<10||n[4]!="/"||n[7]!="/")&&(i=null),t=new gx.date.gxdate(n,i),gx.date.isNullDate(t)||(t.HasTimePart=!0,t.HasDatePart=!0),t):gx.date.nullDate()}};$(window).one('load',function(){WWP_VV([['WWPCalendar','15.3.1']]);});